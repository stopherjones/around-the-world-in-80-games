<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Russia ¬∑ Around the World in 80 Games</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>

<body>

  <header>
    <h1>Russia</h1>
    <div class="country-nav">
    <a href="norway.html" class="prev">‚Üê Norway</a>
    <a href="greece.html" class="next">Greece ‚Üí</a>
    </div>
  </header>

  <main>
    <section>
      <h2>Overview</h2>
      <div class="placeholder">
      <p>Welcome to the majestic city of St. Petersburg, Russia! </p>
      <p>Founded in 1703 by Tsar Peter the Great, this iconic city was built as a ‚Äúwindow to the West,‚Äù designed to showcase Russia‚Äôs power, culture, and ambition. Known for its stunning architecture, grand canals, and rich history, St. Petersburg has been the cultural heart of Russia for centuries. From the opulent Winter Palace to the golden domes of the Church of the Savior on Spilled Blood, the city is a testament to the grandeur and vision of its founders.</p>
      <p>In St Petersburg, players strive for efficiency as they recruit workers to secure income, construct buildings to improve the city and attract nobles to secure valuable victory points.</p>
      <p>This marks the end of a run of mostly card-based games as we move south through Eastern Europe and look forward to a series of varying game mechanics, including abstracts, tile-placement, worker placement and bluffing.</p>
</div>



      </div>
    </section>

<section>
  <h2>St Petersburg results</h2>
  <div class="placeholder">
    <div id="st-petersburg-tournaments"></div>
  </div>
</section>

  </main>

  <footer>
    <p>¬© 2025 Around the World in 80 Games</p>
  </footer>

  <!-- ‚úÖ Load global script FIRST so BASE + sidenav are ready -->
  <script src="../assets/js/script.js"></script>

  <!-- ‚úÖ Country-specific logic AFTER script.js -->
  <script>

    const TROPHIES = {
  "1st": "ü•á",
  "2nd": "ü•à",
  "3rd": "ü•â"
};


  // ‚úÖ Map tournament IDs to their section containers
  const TOURNAMENT_SECTIONS = {
    378251: "st-petersburg-tournaments",
  };

  async function loadCountryTournaments() {
    const res = await fetch(`${BASE}/data/tournaments.json`);
    const data = await res.json();

    Object.entries(TOURNAMENT_SECTIONS).forEach(([id, containerId]) => {
      const t = data[id];
      const container = document.getElementById(containerId);

      if (!t) {
        container.innerHTML = "<p>No results found.</p>";
        return;
      }

      const div = document.createElement("div");
      div.className = "tournament-card";

      if (t.status === "completed") {
        const results = t.top4 || t.top5 || [];

       const resultsTable = results
  .map(player => {
    const trophy = TROPHIES[player.rank] || "";
    return `
      <tr>
        <td>${trophy} ${player.rank}</td>
        <td>${player.name}</td>
      </tr>
    `;
  })
  .join("");


        div.innerHTML = `
          <table class="standings-table">
            <tr><th>Rank</th><th>Player</th></tr>
            ${resultsTable}
          </table>
          <p><a href="https://boardgamearena.com/tournament?id=${t.id}" target="_blank">View on BGA</a></p>
        `;
      } else if (t.status === "ongoing") {
        div.innerHTML = `
          <h3>Tournament ${t.id} ‚Äî Ongoing</h3>
          <p>Round: ${t.round || "Unknown"}</p>
          <p><a href="https://boardgamearena.com/tournament?id=${t.id}" target="_blank">View on BGA</a></p>
        `;
      }

      container.appendChild(div);
    });
  }

  loadCountryTournaments();
</script>

</body>
</html>
