<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Switzerland ¬∑ Around the World in 80 Games</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>

<body>

  <header>
    <h1>Switzerland</h1>
    <div class="country-nav">
    <a href="italy.html" class="prev">‚Üê Italy</a>
    <a href="france.html" class="next">France ‚Üí</a>
    </div>
  </header>

  <main>
    <section>
      <h2>Overview</h2>
      <div class="placeholder">
      <p>Next we travel north, climbing the Alps and the world-famous Matterhorn mountain that straddles the border and into Switzerland - a land of majestic Alpine peaks, pristine lakes, and charming villages. Known for its neutrality, precision engineering, and world-famous chocolate, Switzerland is a country that seamlessly blends natural beauty with cultural richness.</p>
      <p>Switzerland is also home to one of the most efficient and scenic railway systems in the world. Its trains wind through mountain passes, cross dramatic viaducts, and connect picturesque towns, making it a paradise for travelers and train enthusiasts alike.</p>
      <p>That‚Äôs why the Swiss expansion is the perfect choice to showcase our next game, Ticket to Ride - the 2004 Spiel des Jahres winner that needs little introduction. Just watch out for the tight routes, mountain passes and multi-destination objectives in this expansion at the heart of Europe.</p>
      </div>
    </section>

<section>
  <h2>Ticket to Ride results</h2>
  <div class="placeholder">
    <div id="ticket-to-ride-tournaments"></div>
  </div>
</section>

  </main>

  <footer>
    <p>¬© 2025 Around the World in 80 Games</p>
  </footer>

  <!-- ‚úÖ Load global script FIRST so BASE + sidenav are ready -->
  <script src="../assets/js/script.js"></script>

  <!-- ‚úÖ Country-specific logic AFTER script.js -->
  <script>

    const TROPHIES = {
  "1st": "ü•á",
  "2nd": "ü•à",
  "3rd": "ü•â"
};


  // ‚úÖ Map tournament IDs to their section containers
  const TOURNAMENT_SECTIONS = {
    410031: "ticket-to-ride-tournaments",
  };

  async function loadCountryTournaments() {
    const res = await fetch(`${BASE}/data/tournaments.json`);
    const data = await res.json();

    Object.entries(TOURNAMENT_SECTIONS).forEach(([id, containerId]) => {
      const t = data[id];
      const container = document.getElementById(containerId);

      if (!t) {
        container.innerHTML = "<p>No results found.</p>";
        return;
      }

      const div = document.createElement("div");
      div.className = "tournament-card";

      if (t.status === "completed") {
        const results = t.top4 || t.top5 || [];

       const resultsTable = results
  .map(player => {
    const trophy = TROPHIES[player.rank] || "";
    return `
      <tr>
        <td>${trophy} ${player.rank}</td>
        <td>${player.name}</td>
      </tr>
    `;
  })
  .join("");


        div.innerHTML = `
          <table class="standings-table">
            <tr><th>Rank</th><th>Player</th></tr>
            ${resultsTable}
          </table>
          <p><a href="https://boardgamearena.com/tournament?id=${t.id}" target="_blank">View on BGA</a></p>
        `;
      } else if (t.status === "ongoing") {
        div.innerHTML = `
          <h3>Tournament ${t.id} ‚Äî Ongoing</h3>
          <p>Round: ${t.round || "Unknown"}</p>
          <p><a href="https://boardgamearena.com/tournament?id=${t.id}" target="_blank">View on BGA</a></p>
        `;
      }

      container.appendChild(div);
    });
  }

  loadCountryTournaments();
</script>

</body>
</html>
