<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Netherlands ¬∑ Around the World in 80 Games</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>

<body>

<header>
  <h1>Netherlands</h1>
<div class="country-nav">
  <a href="unitedkingdom.html" class="prev">‚Üê United Kingdom</a>
  <a href="germany.html" class="next">Germany ‚Üí</a>
</div>


</header>



  <main>
    <section>
      <h2>Overview</h2>
      <div class="placeholder">
        <p>Welcome to the picturesque city of Amsterdam, the capital of the Netherlands.</p>
        <p>Known for its winding canals, historic architecture, and artistic heritage, Amsterdam is a city that effortlessly blends old-world charm with modern innovation. The Netherlands is a country of windmills, tulip fields, and a rich maritime history that once made it a global superpower during the Dutch Golden Age.</p>
        <p>Tulips became a symbol of the country after being introduced in the 16th century. During the Tulip Mania of the 1630s, tulip bulbs were so highly prized that they were worth more than gold, creating one of the first economic bubbles in history. </p>
        <p>Our next game celebrates Amsterdam‚Äôs famous Tulip Festival - Gift of Tulips is a clever card game in which you‚Äôll gather and share tulips, gifting bouquets to your fellow players and the festival overall in an attempt to create the most beautiful display.</p>
        </div>
    </section>

<section>
  <h2>Gift of Tulips results</h2>
  <div class="placeholder">
    <div id="gift-of-tulips-tournaments"></div>
  </div>
</section>

  </main>

  <footer>
    <p>¬© 2025 Around the World in 80 Games</p>
  </footer>

  <!-- ‚úÖ Load global script FIRST so BASE + sidenav are ready -->
  <script src="../assets/js/script.js"></script>

  <!-- ‚úÖ Country-specific logic AFTER script.js -->
<script>
  const COUNTRY_NAME = "Netherlands"; // ‚úÖ change per country

  const TROPHIES = {
    "1st": "ü•á",
    "2nd": "ü•à",
    "3rd": "ü•â"
  };

  async function loadCountryTournaments() {
    // ‚úÖ Load from cached/preloaded data instead of fetching
    const { tournaments, meta } = await loadData();

    // ‚úÖ Filter metadata to only this country‚Äôs tournaments
    const countryTournaments = Object.entries(meta)
      .filter(([id, info]) => info.country === COUNTRY_NAME);

    // ‚úÖ Render each tournament
    countryTournaments.forEach(([id, info]) => {
      const t = tournaments[id];
      const container = document.getElementById(info.section);

      if (!container) return; // safety check

      if (!t) {
        container.innerHTML = "<p>No results found.</p>";
        return;
      }

      const div = document.createElement("div");
      div.className = "tournament-card";

      if (t.status === "completed") {
        const results = t.top4 || t.top5 || [];

        const resultsTable = results
          .map(player => {
            const trophy = TROPHIES[player.rank] || "";
            return `
              <tr>
                <td>${trophy} ${player.rank}</td>
                <td>${player.name}</td>
              </tr>
            `;
          })
          .join("");

        div.innerHTML = `
          <table class="standings-table">
            <tr><th>Rank</th><th>Player</th></tr>
            ${resultsTable}
          </table>
          <p><a href="https://boardgamearena.com/tournament?id=${t.id}" target="_blank">View on BGA</a></p>
        `;
      } else if (t.status === "ongoing") {
        div.innerHTML = `
          <h3>Tournament ongoing</h3>
          <p><a href="https://boardgamearena.com/tournament?id=${t.id}" target="_blank">View on BGA</a></p>
        `;
      }

      container.appendChild(div);
    });
  }

  loadCountryTournaments();
</script>

</body>
</html>
